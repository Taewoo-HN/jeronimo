{{>layout/header}}
<link rel="stylesheet" href="css/style.css">
<body>
{{>layout/navbar}}
{{>layout/sidebar}}
<div class="page-container">
    <main class="main-content">
        <form action="/news" method="get">
            <input type="text" name="query" value="{{searchQuery}}">
            <button type="submit">검색</button>
        </form>
        <div class="news-grid">
            {{#newsItems}}
                <div class="news-item">
                    <div class="news-content-wrapper">
                        <div class="news-image">
                            {{#imageUrl}}
                                <img src="{{imageUrl}}" alt="뉴스 이미지" loading="lazy">
                            {{/imageUrl}}
                            {{^imageUrl}}
                                <img src="/img/newsdefault.png" alt="기본 이미지" loading="lazy" style="height: 50px; width: 50px">
                            {{/imageUrl}}
                        </div>
                        <div class="news-text">
                            <h2 class="news-title">{{#title}}{{title}}{{/title}}{{^title}}제목 없음{{/title}}</h2>
                            <p class="news-date">{{#date}}{{.}}{{/date}}</p>
                            <p class="news-source">출처: {{source}}</p>
                            <p class="news-excerpt">{{excerpt}}</p>
                            <div class="news-content" style="display: none;">
                                {{{content}}}
                            </div>
                            <div class="news-keywords">
                                <h4>키워드:</h4>
                                {{#keywords}}
                                    <span class="keyword">{{.}}</span>
                                {{/keywords}}
                            </div>
                            <div class="news-theme-stocks">
                                <h4>테마주:</h4>
                                {{#themeStocks}}
                                    <a href="/stock/{{code}}" class="theme-stock">{{name}}</a>
                                {{/themeStocks}}
                            </div>
                            <button class="summary-btn">요약</button>
                            <button class="keywords-btn">키워드 추출</button>
                        </div>
                    </div>
                </div>
            {{/newsItems}}
        </div>
    </main>
</div>

<!-- 요약 모달 -->
<div id="summaryModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>뉴스 요약</h3>
        <p id="summaryContent"></p>
    </div>
</div>

<!-- 키워드 모달 -->
<div id="keywordsModal" class="modal" style="display: none;">
    <div class="modal-content">
        <span class="close">&times;</span>
        <h3>추출된 키워드</h3>
        <div id="keywordsContent"></div>
    </div>
</div>
<script src="/js/newsfilter.js" type="text/javascript"/>
</body>
</html>